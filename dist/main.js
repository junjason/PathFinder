!function(){"use strict";!function(){var t=class{constructor(t){this.gridContainer=t,this.numRows=23,this.numCols=46,this.createGrid(),this.initializeStartAndEnd(".n-11-11",".n-11-33"),this.hasPortals=!1}createGrid(){let t=document.createElement("table");t.classList.add("table");for(let e=0;e<this.numRows;e++){let s=document.createElement("tr");s.classList.add(`row-${e}`);for(let t=0;t<this.numCols;t++){let a=document.createElement("td");a.classList.add(`n-${e}-${t}`),a.classList.add("node"),a.dataset.status="unvisited",a.dataset.portal="none",a.dataset.cookie="none",a.draggable=!1,a.addEventListener("click",(()=>{"wall"===a.dataset.status?(a.dataset.status="unvisited",a.style.removeProperty("background-color")):"unvisited"===a.dataset.status&&"none"===a.dataset.portal&&(a.dataset.status="wall",a.style.backgroundColor="black")})),s.appendChild(a)}t.appendChild(s)}this.gridContainer.appendChild(t)}initializeStartAndEnd(t,e){let s=document.querySelector(t),a=document.querySelector(e);s.classList.add("start"),a.classList.add("end"),s.dataset.status="start",a.dataset.status="end",s.draggable=!0,a.draggable=!0,s.innerHTML='<i class="fas fa-location-arrow"></i>',a.innerHTML='<i class="fa-solid fa-flag-checkered"></i>',this.gridContainer.addEventListener("dragstart",(t=>{const e=t.target;e===s?t.dataTransfer.setData("text","start"):e===a&&t.dataTransfer.setData("text","end")})),this.gridContainer.addEventListener("dragover",(t=>{t.preventDefault()})),this.gridContainer.addEventListener("drop",(t=>{t.preventDefault();const e=t.dataTransfer.getData("text");if("start"===e){const e=t.target;if(!e.classList.contains("node")||"unvisited"!==e.dataset.status)return;e.innerHTML=s.innerHTML,e.classList.add("start"),e.dataset.status="start",e.draggable=!0,s.innerHTML="",s.classList.remove("start"),s.dataset.status="unvisited",s.draggable=!1,s=document.querySelector(".start")}else if("end"===e){const e=t.target;if(!e.classList.contains("node")||"unvisited"!==e.dataset.status)return;e.innerHTML=a.innerHTML,e.classList.add("end"),e.dataset.status="end",e.draggable=!0,a.innerHTML="",a.classList.remove("end"),a.dataset.status="unvisited",a.draggable=!1,a=document.querySelector(".end")}}))}resetBoard(){this.gridContainer.remove();let t=document.querySelector(".grid-container"),e=document.createElement("div");e.classList.add("grid"),t.appendChild(e),e=document.querySelector(".grid"),this.gridContainer=e,this.createGrid(),this.initializeStartAndEnd(".n-11-11",".n-11-33")}clearBoard(){for(let t=0;t<this.numRows;t++)for(let e=0;e<this.numCols;e++){let s=document.querySelector(`.n-${t}-${e}`);s.dataset.cookies="none","visited"===s.dataset.status&&(s.dataset.status="unvisited"),s.classList.contains("visited-anim")&&s.classList.remove("visited-anim"),s.classList.contains("shortest-path")&&s.classList.remove("shortest-path")}}getPosSelector(t){return t.className.split(" ")[0]}placePortals(t,e){let s=document.querySelector(t),a=document.querySelector(e);s.classList.add("portal-start"),a.classList.add("portal-end"),s.dataset.portal="portal-start",a.dataset.portal="portal-end",s.draggable=!0,a.draggable=!0,s.innerHTML='<i class="fa-solid fa-door-open"></i>',a.innerHTML='<i class="fa-solid fa-door-closed"></i>',this.gridContainer.addEventListener("dragstart",(t=>{const e=t.target;e===s?t.dataTransfer.setData("text","portal-start"):e===a&&t.dataTransfer.setData("text","portal-end")})),this.gridContainer.addEventListener("dragover",(t=>{t.preventDefault()})),this.gridContainer.addEventListener("drop",(t=>{t.preventDefault();const e=t.dataTransfer.getData("text");if("portal-start"===e){const e=t.target;if(!e.classList.contains("node")||"unvisited"!==e.dataset.status)return;e.innerHTML=s.innerHTML,e.classList.add("portal-start"),e.dataset.portal="portal-start",e.draggable=!0,s.innerHTML="",s.classList.remove("portal-start"),s.dataset.portal="none",s.draggable=!1,s=document.querySelector(".portal-start")}else if("portal-end"===e){const e=t.target;if(!e.classList.contains("node")||"unvisited"!==e.dataset.status)return;e.innerHTML=a.innerHTML,e.classList.add("portal-end"),e.dataset.portal="portal-end",e.draggable=!0,a.innerHTML="",a.classList.remove("portal-end"),a.dataset.portal="none",a.draggable=!1,a=document.querySelector(".portal-end")}})),this.hasPortals=!0}removePortals(){let t=document.querySelector(".portal-start"),e=document.querySelector(".portal-end");t.classList.remove("portal-start"),e.classList.remove("portal-end"),t.dataset.portal="none",e.dataset.portal="none",t.draggable=!1,e.draggable=!1,t.innerHTML="",e.innerHTML="",this.hasPortals=!1}randomWalls(){}mazeConfigOne(){}generateRandomMaze(){const t=document.querySelectorAll(".node"),e=document.querySelector(".start"),s=document.querySelector(".end");let a=null,r=null;this.hasPortals&&(a=document.querySelector(".portal-start"),r=document.querySelector(".portal-end"));for(const o of t)o!==e&&o!==s&&o!==a&&o!==r&&(o.style.backgroundColor="black",o.dataset.status="wall");const o=[],n=document.querySelector(".n-1-1");for(o.push(n),n.style.removeProperty("background-color"),n.dataset.status="unvisited";o.length>0;){const t=o[o.length-1],[e,s]=this.getPosSelector(t).split("-").slice(1).map(Number),a=[],r=[{dx:0,dy:2},{dx:2,dy:0},{dx:0,dy:-2},{dx:-2,dy:0}];for(const t of r){const r=e+t.dx,o=s+t.dy;if(r>=0&&r<this.numRows&&o>=0&&o<this.numCols){const t=document.querySelector(`.n-${r}-${o}`);"wall"===t.dataset.status&&a.push(t)}}if(a.length>0){const t=a[Math.floor(Math.random()*a.length)],[r,n]=this.getPosSelector(t).split("-").slice(1).map(Number);t.style.removeProperty("background-color"),t.dataset.status="unvisited";const i=e+Math.sign(r-e),d=s+Math.sign(n-s),l=document.querySelector(`.n-${i}-${d}`);l.style.removeProperty("background-color"),l.dataset.status="unvisited",o.push(t)}else o.pop()}const[i,d]=this.getPosSelector(e).split("-").slice(1).map(Number),[l,c]=this.getPosSelector(s).split("-").slice(1).map(Number),[u,h]=this.getPosSelector(a).split("-").slice(1).map(Number),[m,p]=this.getPosSelector(r).split("-").slice(1).map(Number),g=document.querySelector(`.n-${i+1}-${d}`),y=document.querySelector(`.n-${l+1}-${c}`);g.style.removeProperty("background-color"),g.dataset.status="start",y.style.removeProperty("background-color"),y.dataset.status="end";let v=null,S=null;this.hasPortals&&(v=document.querySelector(`.n-${u-1}-${h}`),S=document.querySelector(`.n-${m-1}-${p}`),v.style.removeProperty("background-color"),v.dataset.status="unvisited",S.style.removeProperty("background-color"),S.dataset.status="unvisited")}},e=class{constructor(t,e,s){this.grid=t,this.start=e,this.end=s,this.visitedInOrder=[],this.routeFromStartToEnd=[]}getPos(t){let e=t.className.split(" ")[0].split("-");return[e[1],e[2]]}runBFS(){let t=[],e=new Set;for(t.push(this.start),this.visitedInOrder=[];0!==t.length;){let s=t.shift(),a=this.getPos(s);if(this.visitedInOrder.push(s),"end"===s.dataset.status&&"start"===s.dataset.status||(s.dataset.status="visited"),this.getPos(s).join("-")===this.getPos(this.end).join("-"))return this.animateVisited(),!0;if("portal-start"===s.dataset.portal){let s=document.querySelector(".portal-end");s&&!e.has(this.getPos(s).join("-"))&&(s.dataset.cookie="cookie-portal-start",t.push(s),e.add(this.getPos(s).join("-")))}else{let s=document.querySelector(`.n-${a[0]}-${parseInt(a[1])+1}`);s&&!e.has(this.getPos(s).join("-"))&&"wall"!==s.dataset.status&&(s.dataset.cookie="cookie-west",t.push(s),e.add(this.getPos(s).join("-")));let r=document.querySelector(`.n-${parseInt(a[0])+1}-${a[1]}`);r&&!e.has(this.getPos(r).join("-"))&&"wall"!==r.dataset.status&&(r.dataset.cookie="cookie-north",t.push(r),e.add(this.getPos(r).join("-")));let o=document.querySelector(`.n-${a[0]}-${parseInt(a[1])-1}`);o&&!e.has(this.getPos(o).join("-"))&&"wall"!==o.dataset.status&&(o.dataset.cookie="cookie-east",t.push(o),e.add(this.getPos(o).join("-")));let n=document.querySelector(`.n-${parseInt(a[0])-1}-${a[1]}`);n&&!e.has(this.getPos(n).join("-"))&&"wall"!==n.dataset.status&&(n.dataset.cookie="cookie-south",t.push(n),e.add(this.getPos(n).join("-")))}}return this.animateVisited(),!1}runDFS(){let t=[],e=new Set;for(this.visitedInOrder=[],t.push(this.start);0!==t.length;){let s=t.pop(),a=this.getPos(s);if(this.visitedInOrder.push(s),e.add(this.getPos(s).join("-")),"end"===s.dataset.status&&"start"===s.dataset.status||(s.dataset.status="visited"),this.getPos(s).join("-")===this.getPos(this.end).join("-"))return this.animateVisited(),!0;if("portal-start"===s.dataset.portal){let s=document.querySelector(".portal-end");s&&!e.has(this.getPos(s).join("-"))&&(s.dataset.cookie="cookie-portal-start",t.push(s))}else{let s=document.querySelector(`.n-${a[0]}-${parseInt(a[1])-1}`);s&&!e.has(this.getPos(s).join("-"))&&"wall"!==s.dataset.status&&(s.dataset.cookie="cookie-east",t.push(s));let r=document.querySelector(`.n-${parseInt(a[0])-1}-${a[1]}`);r&&!e.has(this.getPos(r).join("-"))&&"wall"!==r.dataset.status&&(r.dataset.cookie="cookie-south",t.push(r));let o=document.querySelector(`.n-${a[0]}-${parseInt(a[1])+1}`);o&&!e.has(this.getPos(o).join("-"))&&"wall"!==o.dataset.status&&(o.dataset.cookie="cookie-west",t.push(o));let n=document.querySelector(`.n-${parseInt(a[0])+1}-${a[1]}`);n&&!e.has(this.getPos(n).join("-"))&&"wall"!==n.dataset.status&&(n.dataset.cookie="cookie-north",t.push(n))}}return this.animateVisited(),!1}backTrack(){let t=this.end;for(this.routeFromStartToEnd=[];this.getPos(t).join("-")!==this.getPos(this.start).join("-");){this.routeFromStartToEnd.push(t);let e=this.getPos(t);"cookie-south"===t.dataset.cookie?t=document.querySelector(`.n-${parseInt(e[0])+1}-${e[1]}`):"cookie-north"===t.dataset.cookie?t=document.querySelector(`.n-${parseInt(e[0])-1}-${e[1]}`):"cookie-east"===t.dataset.cookie?t=document.querySelector(`.n-${e[0]}-${parseInt(e[1])+1}`):"cookie-west"===t.dataset.cookie?t=document.querySelector(`.n-${e[0]}-${parseInt(e[1])-1}`):"cookie-portal-start"===t.dataset.cookie&&(t=document.querySelector(".portal-start"))}this.routeFromStartToEnd.push(t),this.routeFromStartToEnd.reverse()}animateVisited(){for(let t=0;t<this.visitedInOrder.length;t++)setTimeout((()=>{this.visitedInOrder[t].classList.add("visited-anim")}),15*t),t===this.visitedInOrder.length-1&&setTimeout((()=>{this.animateBackTrack()}),15*t)}animateBackTrack(){for(let t=0;t<this.routeFromStartToEnd.length;t++)setTimeout((()=>{this.routeFromStartToEnd[t].classList.add("shortest-path")}),25*t)}};let s=null;document.addEventListener("DOMContentLoaded",(()=>{const a=document.querySelector(".grid");s=new t(a);let r=document.querySelector(".placePortals"),o=!1;r.addEventListener("click",(()=>{o?o&&(o=!1,s.removePortals(),r.innerText="Place Portals"):(o=!0,s.placePortals(".n-11-13",".n-11-31"),r.innerText="Remove Portals")})),document.querySelector(".resetBoard").addEventListener("click",(()=>{o&&(o=!1,s.removePortals()),s.resetBoard(),r.innerText="Place Portals"})),document.querySelector(".generateMaze").addEventListener("click",(()=>{s.clearBoard(),s.generateRandomMaze()}));let n=document.querySelector(".dropbtn"),i=document.getElementById("myDropdown");n.addEventListener("click",(function(){"block"===i.style.display?i.style.display="none":i.style.display="block"}));let d=null,l=document.querySelector(".visualize");l.addEventListener("click",(()=>{if(null===d)l.innerText="Select an algorithm!";else if("bfs"===d){let t=document.querySelector(".start"),a=document.querySelector(".end"),r=new e(s,t,a);s.clearBoard(),r.runBFS()&&r.backTrack()}else if("dfs"===d){let t=document.querySelector(".start"),a=document.querySelector(".end"),r=new e(s,t,a);s.clearBoard(),r.runDFS()&&r.backTrack()}}));let c=document.querySelector(".selectedBFS"),u=document.querySelector(".selectedDFS");c.addEventListener("click",(()=>{d="bfs",l.innerText="Visualize",i.style.display="none"})),u.addEventListener("click",(()=>{d="dfs",l.innerText="Visualize",i.style.display="none"}));let h=document.getElementById("myModal"),m=document.getElementById("myBtn"),p=document.getElementsByClassName("close")[0];m.addEventListener("click",(()=>{h.style.display="block"})),p.addEventListener("click",(()=>{h.style.display="none"})),window.addEventListener("click",(t=>{t.target==h&&(h.style.display="none")}))}))}()}();
//# sourceMappingURL=main.js.map