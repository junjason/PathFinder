!function(){"use strict";!function(){var t=class{constructor(t){this.gridContainer=t,this.createGrid(),this.initializeStartAndEnd()}createGrid(){let t=document.createElement("table");t.classList.add("table");for(let e=0;e<23;e++){let s=document.createElement("tr");s.classList.add(`row-${e}`);for(let t=0;t<46;t++){let a=document.createElement("td");a.classList.add(`n-${e}-${t}`),a.classList.add("node"),a.dataset.status="unvisited",a.dataset.portal="none",a.draggable=!1,a.addEventListener("click",(()=>{"wall"===a.dataset.status?(a.dataset.status="unvisited",a.style.removeProperty("background-color")):"unvisited"===a.dataset.status&&(a.dataset.status="wall",a.style.backgroundColor="black")})),s.appendChild(a)}t.appendChild(s)}this.gridContainer.appendChild(t)}initializeStartAndEnd(){let t=document.querySelector(".n-11-11"),e=document.querySelector(".n-11-33");t.classList.add("start"),e.classList.add("end"),t.dataset.status="start",e.dataset.status="end",t.draggable=!0,e.draggable=!0,t.innerHTML='<i class="fas fa-location-arrow"></i>',e.innerHTML='<i class="far fa-times-circle"></i>',this.gridContainer.addEventListener("dragstart",(s=>{const a=s.target;a===t?s.dataTransfer.setData("text","start"):a===e&&s.dataTransfer.setData("text","end")})),this.gridContainer.addEventListener("dragover",(t=>{t.preventDefault()})),this.gridContainer.addEventListener("drop",(s=>{s.preventDefault();const a=s.dataTransfer.getData("text");if("start"===a){const e=s.target;if(!e.classList.contains("node")||"unvisited"!==e.dataset.status)return;e.innerHTML=t.innerHTML,e.classList.add("start"),e.dataset.status="start",e.draggable=!0,t.innerHTML="",t.classList.remove("start"),t.dataset.status="unvisited",t.draggable=!1,t=document.querySelector(".start")}else if("end"===a){const t=s.target;if(!t.classList.contains("node")||"unvisited"!==t.dataset.status)return;t.innerHTML=e.innerHTML,t.classList.add("end"),t.dataset.status="end",t.draggable=!0,e.innerHTML="",e.classList.remove("end"),e.dataset.status="unvisited",e.draggable=!1,e=document.querySelector(".end")}}))}resetBoard(){this.gridContainer.innerHTML="",this.createGrid(),this.initializeStartAndEnd()}placePortals(){let t=document.querySelector(".n-11-14"),e=document.querySelector(".n-11-30");t.classList.add("portal-start"),e.classList.add("portal-end"),t.dataset.portal="portal-start",e.dataset.portal="portal-end",t.draggable=!0,e.draggable=!0,t.innerHTML='<i class="fa-solid fa-door-open"></i>',e.innerHTML='<i class="fa-solid fa-door-closed"></i>',this.gridContainer.addEventListener("dragstart",(s=>{const a=s.target;a===t?s.dataTransfer.setData("text","portal-start"):a===e&&s.dataTransfer.setData("text","portal-end")})),this.gridContainer.addEventListener("dragover",(t=>{t.preventDefault()})),this.gridContainer.addEventListener("drop",(s=>{s.preventDefault();const a=s.dataTransfer.getData("text");if("portal-start"===a){const e=s.target;if(!e.classList.contains("node")||"unvisited"!==e.dataset.status)return;e.innerHTML=t.innerHTML,e.classList.add("portal-start"),e.dataset.portal="portal-start",e.draggable=!0,t.innerHTML="",t.classList.remove("portal-start"),t.dataset.portal="none",t.draggable=!1,t=document.querySelector(".portal-start")}else if("portal-end"===a){const t=s.target;if(!t.classList.contains("node")||"unvisited"!==t.dataset.status)return;t.innerHTML=e.innerHTML,t.classList.add("portal-end"),t.dataset.portal="portal-end",t.draggable=!0,e.innerHTML="",e.classList.remove("portal-end"),e.dataset.portal="none",e.draggable=!1,e=document.querySelector(".portal-end")}}))}removePortals(){let t=document.querySelector(".portal-start"),e=document.querySelector(".portal-end");t.classList.remove("portal-start"),e.classList.remove("portal-end"),t.dataset.portal="none",e.dataset.portal="none",t.draggable=!1,e.draggable=!1,t.innerHTML="",e.innerHTML=""}},e=class{constructor(t,e,s){this.grid=t,this.start=e,this.end=s,this.visitedInOrder=[],this.routeFromStartToEnd=[]}runBFS(){let t=[],e=new Set;for(t.push(this.start),this.visitedInOrder=[];0!==t.length;){let s=t.shift(),a=this.getPos(s);if("portal-start"===s.dataset.portal){let s=document.querySelector(".portal-end");s&&!e.has(this.getPos(s).join("-"))&&(s.classList.add("cookie-portal-start"),this.visitedInOrder.push(s),t.push(s),e.add(this.getPos(s).join("-")),s.dataset.status="visited")}else{let s=document.querySelector(`.n-${a[0]}-${parseInt(a[1])+1}`);if(s&&!e.has(this.getPos(s).join("-"))&&"wall"!==s.dataset.status&&(s.classList.add("cookie-west"),this.visitedInOrder.push(s),t.push(s),e.add(this.getPos(s).join("-")),"end"===s.dataset.status&&"start"===s.dataset.status||(s.dataset.status="visited"),this.getPos(s).join("-")===this.getPos(this.end).join("-")))return this.animateVisited(),!0;let i=document.querySelector(`.n-${parseInt(a[0])+1}-${a[1]}`);if(i&&!e.has(this.getPos(i).join("-"))&&"wall"!==i.dataset.status&&(i.classList.add("cookie-north"),this.visitedInOrder.push(i),t.push(i),e.add(this.getPos(i).join("-")),"end"===i.dataset.status&&"start"===i.dataset.status||(i.dataset.status="visited"),this.getPos(i).join("-")===this.getPos(this.end).join("-")))return this.animateVisited(),!0;let r=document.querySelector(`.n-${a[0]}-${parseInt(a[1])-1}`);if(r&&!e.has(this.getPos(r).join("-"))&&"wall"!==r.dataset.status&&(r.classList.add("cookie-east"),this.visitedInOrder.push(r),t.push(r),e.add(this.getPos(r).join("-")),"end"===r.dataset.status&&"start"===r.dataset.status||(r.dataset.status="visited"),this.getPos(r).join("-")===this.getPos(this.end).join("-")))return this.animateVisited(),!0;let n=document.querySelector(`.n-${parseInt(a[0])-1}-${a[1]}`);if(n&&!e.has(this.getPos(n).join("-"))&&"wall"!==n.dataset.status&&(n.classList.add("cookie-south"),this.visitedInOrder.push(n),t.push(n),e.add(this.getPos(n).join("-")),"end"===n.dataset.status&&"start"===n.dataset.status||(n.dataset.status="visited"),this.getPos(n).join("-")===this.getPos(this.end).join("-")))return this.animateVisited(),!0}}return this.animateVisited(),!1}runDFS(){let t=[],e=new Set;for(t.push(this.start),this.visitedInOrder=[];0!==t.length;){let s=t.pop(),a=this.getPos(s);if("portal-start"===s.dataset.portal){let s=document.querySelector(".portal-end");s&&!e.has(this.getPos(s).join("-"))&&(s.classList.add("cookie-portal-start"),this.visitedInOrder.push(s),t.push(s),e.add(this.getPos(s).join("-")),s.dataset.status="visited")}else{let s=document.querySelector(`.n-${a[0]}-${parseInt(a[1])+1}`);if(s&&!e.has(this.getPos(s).join("-"))&&"wall"!==s.dataset.status&&(s.classList.add("cookie-west"),this.visitedInOrder.push(s),t.push(s),e.add(this.getPos(s).join("-")),"end"===s.dataset.status&&"start"===s.dataset.status||(s.dataset.status="visited"),this.getPos(s).join("-")===this.getPos(this.end).join("-")))return this.animateVisited(),!0;let i=document.querySelector(`.n-${parseInt(a[0])+1}-${a[1]}`);if(i&&!e.has(this.getPos(i).join("-"))&&"wall"!==i.dataset.status&&(i.classList.add("cookie-north"),this.visitedInOrder.push(i),t.push(i),e.add(this.getPos(i).join("-")),"end"===i.dataset.status&&"start"===i.dataset.status||(i.dataset.status="visited"),this.getPos(i).join("-")===this.getPos(this.end).join("-")))return this.animateVisited(),!0;let r=document.querySelector(`.n-${a[0]}-${parseInt(a[1])-1}`);if(r&&!e.has(this.getPos(r).join("-"))&&"wall"!==r.dataset.status&&(r.classList.add("cookie-east"),this.visitedInOrder.push(r),t.push(r),e.add(this.getPos(r).join("-")),"end"===r.dataset.status&&"start"===r.dataset.status||(r.dataset.status="visited"),this.getPos(r).join("-")===this.getPos(this.end).join("-")))return this.animateVisited(),!0;let n=document.querySelector(`.n-${parseInt(a[0])-1}-${a[1]}`);if(n&&!e.has(this.getPos(n).join("-"))&&"wall"!==n.dataset.status&&(n.classList.add("cookie-south"),this.visitedInOrder.push(n),t.push(n),e.add(this.getPos(n).join("-")),"end"===n.dataset.status&&"start"===n.dataset.status||(n.dataset.status="visited"),this.getPos(n).join("-")===this.getPos(this.end).join("-")))return this.animateVisited(),!0}}return this.animateVisited(),!1}getPos(t){let e=t.className.split(" ")[0].split("-");return[e[1],e[2]]}animateVisited(){for(let t=0;t<this.visitedInOrder.length;t++)setTimeout((()=>{this.visitedInOrder[t].classList.add("visited-anim")}),25*t),t===this.visitedInOrder.length-1&&setTimeout((()=>{this.animateBackTrack()}),25*t)}backTrack(){let t=this.end;for(this.routeFromStartToEnd=[];this.getPos(t).join("-")!==this.getPos(this.start).join("-");){this.routeFromStartToEnd.push(t);let e=this.getPos(t);t.classList.contains("cookie-south")?t=document.querySelector(`.n-${parseInt(e[0])+1}-${e[1]}`):t.classList.contains("cookie-north")?t=document.querySelector(`.n-${parseInt(e[0])-1}-${e[1]}`):t.classList.contains("cookie-east")?t=document.querySelector(`.n-${e[0]}-${parseInt(e[1])+1}`):t.classList.contains("cookie-west")?t=document.querySelector(`.n-${e[0]}-${parseInt(e[1])-1}`):t.classList.contains("cookie-portal-start")&&(t=document.querySelector(".portal-start"))}this.routeFromStartToEnd.push(t),this.routeFromStartToEnd.reverse()}animateBackTrack(){for(let t=0;t<this.routeFromStartToEnd.length;t++)setTimeout((()=>{this.routeFromStartToEnd[t].style.backgroundColor="yellow"}),25*t)}};let s=null;document.addEventListener("DOMContentLoaded",(()=>{const a=document.querySelector(".grid-container");s=new t(a);let i=document.querySelector(".placePortals"),r=!1;i.addEventListener("click",(()=>{r?r&&(r=!1,s.removePortals(),i.innerText="Place Portals"):(r=!0,s.placePortals(),i.innerText="Remove Portals")})),document.querySelector(".resetBoard").addEventListener("click",(()=>{s.resetBoard()}));let n=document.querySelector(".dropbtn"),d=document.getElementById("myDropdown");n.addEventListener("click",(function(){"block"===d.style.display?d.style.display="none":d.style.display="block"}));let o=null,l=document.querySelector(".visualize"),c=document.getElementById("information");l.addEventListener("click",(()=>{if(null===o)l.innerText="Select an algorithm!";else if("bfs"===o){let t=document.querySelector(".start"),a=document.querySelector(".end"),i=new e(s,t,a);i.runBFS()&&i.backTrack()}else if("dfs"===o){if(r){let t=document.createElement("h1");t.innerText="Portals will not work on DFS until the portal node is at the top of the stack!",c.appendChild(t)}let t=document.querySelector(".start"),a=document.querySelector(".end"),i=new e(s,t,a);i.runDFS()&&i.backTrack()}}));let u=document.querySelector(".selectedBFS"),h=document.querySelector(".selectedDFS");u.addEventListener("click",(()=>{o="bfs",l.innerText="Visualize",d.style.display="none"})),h.addEventListener("click",(()=>{o="dfs",l.innerText="Visualize",d.style.display="none"}));let p=document.getElementById("wallDropBtn"),g=document.querySelector(".auto-wall-dropdown");p.addEventListener("click",(()=>{"block"===g.style.display?g.style.display="none":g.style.display="block"}))}))}()}();
//# sourceMappingURL=main.js.map